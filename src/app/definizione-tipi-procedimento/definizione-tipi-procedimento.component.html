<!--<div  id="testata">
    Definizione tipi procedimento
</div>
-->

<dx-data-grid  #grid
    id="gridContainer"
    [dataSource]="dataSource"
    [allowColumnReordering]="true"
    [paging]="false"
    
    (onEditingStart)="handleEvent('EditingStart',$event)"
    (onInitNewRow)="handleEvent('InitNewRow',$event)"
    (onRowInserting)="handleEvent('RowInserting',$event)"
    (onRowInserted)="handleEvent('RowInserted',$event)"
    (onRowUpdating)="handleEvent('RowUpdating',$event)"
    (onRowUpdated)="handleEvent('RowUpdated',$event)"
    (onRowRemoving)="handleEvent('RowRemoving',$event)"
    (onRowRemoved)="handleEvent('RowRemoved',$event)"
    (onRowClick)="handleEvent('RowClick',$event)"
    (onSelectionChanged)="handleEvent('SelectionChanged',$event)"
    (onCellClick)="handleEvent('CellClick',$event)"
    (onToolbarPreparing)="onToolbarPreparing($event)"
    (onCellPrepared)="onCellPrepared($event)"
    (onButtonClick)="handleEvent('ButtonClick',$event)"
>
    

    <dxo-filter-row 
        [visible]="true" 
        [operationDescriptions]="filterOperationDescriptions">
    </dxo-filter-row>
    <dxo-editing 
        mode="popup"
        cellTemplate="Modifica"
        title="Modifica"
        style="align-content: center; justify-content: center"
        [allowUpdating]="false"
        [allowDeleting]="false"
        [allowAdding]="true"
        [texts]="texts">
        <dxo-popup
            title="Modifica Tipo Procedimento"
            [showTitle]="true">
        </dxo-popup>
        <dxo-form>
            <dxi-item dataField="nomeTipoProcedimento"></dxi-item>
            <dxi-item dataField="descrizioneTipoProcedimentoDefault"></dxi-item>
            <dxi-item dataField="modoApertura"></dxi-item>
            <dxi-item dataField="normaRiferimento"></dxi-item>
            <dxi-item dataField="dataInizioValidita"></dxi-item>
            <dxi-item dataField="dataFineValidita"></dxi-item>
            <dxi-item dataField="durataMassimaSospensione"></dxi-item>
        </dxo-form>
    </dxo-editing> -->

    <dxi-column dataField="idTipoProcedimento" [width]="100" caption="# Tipo"></dxi-column>
    <dxi-column dataField="nomeTipoProcedimento"></dxi-column>
    <dxi-column caption="Attivo" [calculateCellValue]="calcolaSeAttiva" [allowSorting]="true" [allowFiltering]="true"></dxi-column>
    <dxi-column dataField="dataInizioValidita" [dataType]="'date'" [format]="'dd/MM/yyyy'" [allowFiltering]="true"></dxi-column>
    <dxi-column dataField="dataFineValidita" [dataType]="'date'" [format]="'dd/MM/yyyy'" [allowFiltering]="true"></dxi-column>
    <dxi-column dataField="modoApertura" [visible]="false"></dxi-column>
    <dxi-column caption="Azioni" cellTemplate="buttonCellTemplate" id="Azioni"></dxi-column>
    <div *dxTemplate="let d of 'buttonCellTemplate'" class="azioni-tipi-procedimento">
        <a routerLink="/app-dettaglio-procedimento" routerLinkActive="active">
            <dx-button text="" hint="Vedi dettagli procedimento" icon='preferences' (onClick)="handleEvent('associaClicked', $event)" ></dx-button>
        </a>

        <dx-button text="" hint="Modifica dettagli tipo procedimento" icon='edit' (onClick)="handleEvent('editClicked', $event)"></dx-button>

        <dx-button text="" hint="Elimina questo tipo procedimento" icon="./assets/images/eraser-512.png" (onClick)="handleEvent('deleteClicked', $event)"></dx-button>
    </div>

    <dxi-column dataField="descrizioneTipoProcedimentoDefault" [visible]="false"></dxi-column>
    <dxi-column dataField="durataMassimaSospensione" [visible]="false"></dxi-column>
    <dxi-column dataField="normaRiferimento" [visible]="false"></dxi-column>
</dx-data-grid>







